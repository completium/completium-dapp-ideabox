(this["webpackJsonpcompletium-dapp-ideabox"]=this["webpackJsonpcompletium-dapp-ideabox"]||[]).push([[0],{163:function(e,t,a){e.exports=a(278)},169:function(e,t,a){},175:function(e,t){},177:function(e,t){},245:function(e,t){},247:function(e,t){},260:function(e,t){},262:function(e,t){},278:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(13),l=a.n(o),c=(a(73),a(32)),i=a.n(c),s=a(53),m=a(20),u=(a(169),a(325)),d=a(326),p=a(146),E=a(324),f=a(279),y=a(131),h=a(88),g=Object(y.a)((function(e){var t=e.appName,a=r.a.useState((function(){return{wallet:null,tezos:null,accountPkh:null}})),n=Object(m.a)(a,2),o=n[0],l=o.wallet,c=o.tezos,u=o.accountPkh,d=n[1],p=Boolean(c);r.a.useEffect((function(){return h.a.onAvailabilityChange((function(e){d({wallet:e?new h.a(t):null,tezos:null,accountPkh:null})}))}),[d,t]);var E=r.a.useCallback(function(){var e=Object(s.a)(i.a.mark((function e(t,a){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,l){e.next=3;break}throw new Error("Thanos Wallet not available");case 3:return e.next=5,l.connect(t,a);case 5:return n=l.toTezos(),e.next=8,n.wallet.pkh();case 8:r=e.sent,d({wallet:l,tezos:n,accountPkh:r}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),alert("Failed to connect ThanosWallet: ".concat(e.t0.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,a){return e.apply(this,arguments)}}(),[d,l]);return{wallet:l,tezos:c,accountPkh:u,ready:p,connect:E}}),(function(e){return e.wallet}),(function(e){return e.tezos}),(function(e){return e.accountPkh}),(function(e){return e.ready}),(function(e){return e.connect})),b=Object(m.a)(g,6),v=b[0],x=b[1],w=b[2],k=b[3],S=b[4],C=b[5];var j=a(323),O=function(e){var t=S(),a=x();return t?r.a.createElement("div",null):a?r.a.createElement(f.a,{variant:"contained",color:"secondary",disableElevation:!0,size:"small",style:{position:"absolute",right:"90px"},onClick:e.handleConnect},"connect to wallet"):r.a.createElement(j.a,{href:"https://templewallet.com/",rel:"noopener",underline:"none",style:{position:"absolute",right:"90px"}},r.a.createElement(f.a,{variant:"contained",size:"small",disableElevation:!0,style:{backgroundColor:"#ed8936",color:"white",fontWeight:"bold"}},"Install Temple"))},I=a(136),P=a.n(I),T=function(e){var t=Object(E.a)("(min-width:600px)")?"visible":"hidden",a="dark"===e.theme.palette.type;return r.a.createElement(u.a,{position:"static",color:a?"default":"secondary",style:{boxShadow:"none",opacity:1}},r.a.createElement(d.a,null,r.a.createElement(p.a,{variant:"h6",style:{position:"absolute",fontFamily:"Alegreya Sans SC, sans-serif"}},"Completium"),r.a.createElement(p.a,{variant:"h6",style:{flexGrow:1,visibility:t}},e.appTitle),r.a.createElement(O,{handleConnect:e.handleConnect}),r.a.createElement("a",{href:"https://edukera.github.io/completium-landing/docs/dapp-ideabox/presentation",target:"_blank"},r.a.createElement(f.a,{style:{color:"white"},component:"span"},r.a.createElement(P.a,null)))))},z=a(144),N=a(341),B=a(342),R=a(339),W=a(332),F=function(e){return r.a.createElement(u.a,{position:"static",color:"default",style:{boxShadow:"none",opacity:1,heigh:300}},r.a.createElement(d.a,{style:{minHeight:256}},r.a.createElement(p.a,{variant:"body2",color:"textSecondary",style:{flexGrow:1}},"@copyright ",e.appName," 2021")))},L=a(348),M=a(344);function J(e){return r.a.createElement(M.a,Object.assign({elevation:6,variant:"filled"},e))}var A=function(e){return r.a.createElement(L.a,{open:e.open},r.a.createElement(J,{severity:"info",style:{backgroundColor:e.theme.palette.secondary.main}},"Waiting for operation confirmation ..."))},G=a(330),K=a(331),Q=a(327),U=a(333),_=a(87),D=a.n(_),H=a(137),V=a.n(H),Y=function(e){w();var t=S();return r.a.createElement(G.a,null,r.a.createElement(K.a,null,r.a.createElement(W.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(W.a,{item:!0,xs:1},e.boxopen&&t?r.a.createElement(Q.a,{color:"secondary","aria-label":"upload picture",component:"span",onClick:function(){}},r.a.createElement(D.a,null)):e.boxopen?r.a.createElement("div",null):e.winner?r.a.createElement(V.a,{color:"secondary"}):r.a.createElement("div",null)),r.a.createElement(W.a,{item:!0,xs:11},r.a.createElement(W.a,{container:!0,direction:"column",justify:"center",alignItems:"flex-start",spacing:1},r.a.createElement(W.a,{item:!0},r.a.createElement(p.a,{color:e.boxopen||e.winner?"textPrimary":"textSecondary",variant:"h6",align:"left",style:{paddingLeft:12}}," ",e.title," ")),r.a.createElement(W.a,{item:!0},r.a.createElement(p.a,{color:e.boxopen||e.winner?"textPrimary":"textSecondary",variant:"body2",align:"left",style:{paddingLeft:12,paddingRight:12}}," ",e.desc," ")))))),r.a.createElement(U.a,null),r.a.createElement(K.a,{style:{paddingBottom:16}},r.a.createElement(W.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",style:{paddingLeft:26,paddingRight:12}},r.a.createElement(W.a,{item:!0,xs:9},r.a.createElement(W.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:3},r.a.createElement(W.a,{item:!0},r.a.createElement(p.a,{color:"textSecondary",style:{fontWeight:"bold"}}," #",e.id," ")),r.a.createElement(W.a,{item:!0},r.a.createElement(W.a,{container:!0,direciton:"row",justify:"flex-start",alignItems:"center",style:{paddingLeft:18}},r.a.createElement(p.a,{color:"textSecondary"},"by: "),r.a.createElement(p.a,{color:"textSecondary",style:{fontSize:14,fontFamily:"Courier Prime, monospace",padding:8,paddingTop:12}},e.author))),r.a.createElement(W.a,{item:!0},r.a.createElement(W.a,{container:!0,direciton:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(p.a,{color:"textSecondary"},"creation: "),r.a.createElement(p.a,{color:"textSecondary",style:{fontSize:14,fontFamily:"Courier Prime, monospace",padding:8,paddingTop:12}},e.creation))))),r.a.createElement(W.a,{item:!0,xs:3},r.a.createElement(W.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"center",spacing:1},r.a.createElement(W.a,{item:!0},r.a.createElement(p.a,null," ",e.nbvotes," ")),r.a.createElement(W.a,{item:!0},r.a.createElement(D.a,{fontSize:"small"})))))))},$=a(138),q=a.n($),X=a(334),Z=function(e){return r.a.createElement(L.a,{open:!0},r.a.createElement(X.a,{color:"secondary",onClick:e.onClick},r.a.createElement(q.a,null)))},ee=a(346),te=a(343),ae=a(4),ne=a(335),re=a(336),oe=a(139),le=a.n(oe),ce=(a(129),Object(ae.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose;return r.a.createElement(ne.a,{disableTypography:!0,className:a.root},r.a.createElement(p.a,{variant:"h6"},t),r.a.createElement(Q.a,{"aria-label":"close",className:a.closeButton,onClick:n},r.a.createElement(le.a,null)))}))),ie=Object(ae.a)((function(e){return{root:{padding:e.spacing(2)}}}))(re.a),se=function(e){w();var t=r.a.useState({title:"",desc:""}),a=Object(m.a)(t,2),n=a[0],o=a[1],l=function(e){"standard-basic"===e.target.id?o({title:e.target.value,desc:n.desc}):o({title:n.title,desc:e.target.value})};return r.a.createElement(ee.a,{open:e.open,onClose:e.onclose,fullWidth:!0},r.a.createElement(ce,{id:"customized-dialog-title",onClose:e.onclose},"New idea"),r.a.createElement(ie,{dividers:!0,style:{padding:0}},r.a.createElement(W.a,{container:!0,direction:"column"},r.a.createElement(W.a,{item:!0},r.a.createElement(W.a,{container:!0,direction:"row",style:{padding:16},spacing:3},r.a.createElement(W.a,{item:!0},r.a.createElement(p.a,null,"Author:")),r.a.createElement(W.a,null,r.a.createElement(p.a,{color:"textSecondary",style:{fontSize:14,fontFamily:"Courier Prime, monospace",paddingTop:15}},e.account)))),r.a.createElement(U.a,null),r.a.createElement(W.a,{item:!0,style:{padding:16,paddingBottom:0}},r.a.createElement(te.a,{id:"standard-basic",label:"Enter idea title",fullWidth:!0,color:"secondary",onChange:l})),r.a.createElement(W.a,{item:!0,style:{padding:16,paddingBottom:0}},r.a.createElement(te.a,{id:"standard-textarea",label:"Enter idea description",placeholder:"Placeholder",multiline:!0,color:"secondary",fullWidth:!0,rowsMax:5,onChange:l})),r.a.createElement(W.a,{item:!0},r.a.createElement(W.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"center",style:{padding:16}},r.a.createElement(f.a,{onClick:function(){console.info(n),e.onclose()}},"submit"))))))},me=a(337),ue=a(140),de=a.n(ue),pe=a(329),Ee=a(328),fe=a(147),ye=a(338),he=a(350),ge=a(349),be=["sort by creation","sort by votes","sort by author","sort by id"];function ve(e){var t=r.a.useState(!1),a=Object(m.a)(t,2),n=a[0],o=a[1],l=r.a.useRef(null),c=r.a.useState(1),i=Object(m.a)(c,2),s=i[0],u=i[1],d=function(e){l.current&&l.current.contains(e.target)||o(!1)};return r.a.createElement(W.a,{container:!0,direction:"column",alignItems:"center"},r.a.createElement(W.a,{item:!0,xs:12},r.a.createElement(me.a,{variant:"outlined",color:"secondary",ref:l,"aria-label":"split button",disableElevation:!0},r.a.createElement(f.a,{onClick:function(){e.onClick(be[s]),console.info("You clicked ".concat(be[s]))},disableElevation:!0},be[s]),r.a.createElement(f.a,{color:"secondary",size:"small","aria-controls":n?"split-button-menu":void 0,"aria-expanded":n?"true":void 0,"aria-label":"select merge strategy","aria-haspopup":"menu",onClick:function(){o((function(e){return!e}))},disableElevation:!0},r.a.createElement(de.a,null))),r.a.createElement(ye.a,{open:n,anchorEl:l.current,role:void 0,transition:!0,disablePortal:!0,style:{zIndex:100}},(function(e){var t=e.TransitionProps,a=e.placement;return r.a.createElement(Ee.a,Object.assign({},t,{style:{transformOrigin:"bottom"===a?"center top":"center bottom"}}),r.a.createElement(fe.a,null,r.a.createElement(pe.a,{onClickAway:d},r.a.createElement(ge.a,{id:"split-button-menu"},be.map((function(e,t){return r.a.createElement(he.a,{key:e,disabled:2===t,selected:t===s,onClick:function(e){return function(e,t){u(t),o(!1)}(0,t)}},e)}))))))}))))}var xe=a(347),we=a(142),ke=a.n(we),Se=a(143),Ce=a.n(Se),je=a(340),Oe=function(e){return r.a.createElement(R.a,{style:{height:"300px"}},r.a.createElement(R.a,{style:{height:"40px"}}),r.a.createElement(fe.a,{style:{opacity:.8,paddingLeft:18,paddingRight:18}},"loading"===e.accountState?r.a.createElement(W.a,{container:!0,direction:"row",alignItems:"center",spacing:2,style:{height:64}},r.a.createElement(W.a,{item:!0,xs:12},r.a.createElement(je.a,{color:"secondary"}))):r.a.createElement(W.a,{container:!0,direction:"row",alignItems:"center",spacing:2},r.a.createElement(W.a,{item:!0,xs:2,direction:"row"},r.a.createElement(p.a,{color:"textSecondary"},"account :")),r.a.createElement(W.a,null,r.a.createElement(p.a,{style:{fontFamily:"Courier Prime, monospace"}},e.account)),e.isvoter?r.a.createElement(W.a,{item:!0,xs:3},r.a.createElement(W.a,{container:!0,direction:"row",justify:"flex-end",spacing:2},r.a.createElement(W.a,{item:!0},r.a.createElement(p.a,{color:"textSecondary"},"Number of votes left:")),r.a.createElement(W.a,{item:!0},r.a.createElement(p.a,null,e.nbvotes)))):r.a.createElement(W.a,{item:!0,xs:3},r.a.createElement(p.a,{color:"error"},"Not registered!")))))};a(40);function Ie(){var e=S(),t=C(),a=k(),n=r.a.useState(null),o=Object(m.a)(n,2),l=(o[0],o[1],r.a.useState({status:!1,ideas:[],votes:[]})),c=Object(m.a)(l,2),u=c[0],d=c[1],p=r.a.useCallback(Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t("edo2net");case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),alert(e.t0.message);case 8:case 9:case"end":return e.stop()}}),e,null,[[0,5]])}))),[t]),E=r.a.useState(!1),f=Object(m.a)(E,2),y=f[0],h=f[1],g=r.a.useState(!1),b=Object(m.a)(g,2),v=b[0],x=b[1],w=r.a.useState(""),O=Object(m.a)(w,2),I=(O[0],O[1]);function P(){return L.apply(this,arguments)}function L(){return(L=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return void 0!==u.votes&&a in u.votes}0===u.ideas.length&&P().then(console.log("content loaded"));var J=r.a.useMemo((function(){return Object(z.a)({palette:{type:"light",secondary:{light:"#64b5f6",main:"#2196f3",dark:"#1976d2",contrastText:"#fff"}}})}),[!1]),G=function(){h(!1),P().then(console.log("content loaded"))},K=function(){h(!0)};return r.a.createElement("div",{className:"App"},r.a.createElement(N.a,{theme:J},r.a.createElement(B.a,null),r.a.createElement(T,{theme:J,appTitle:"Vote for the best ideas!",handleConnect:p}),r.a.createElement(R.a,{maxWidth:"md",style:{height:120}},e?r.a.createElement(Oe,{account:a,isvoter:M(),nbvotes:u.votes[a]}):r.a.createElement("div",{style:{height:500}})),r.a.createElement(R.a,{maxWidth:"md"},r.a.createElement(W.a,{container:!0,direction:"row",spacing:2,style:{marginBottom:100}},r.a.createElement(W.a,{item:!0,xs:12},r.a.createElement(j.a,{href:"https://better-call.dev/edo2net/KT1QNURPMuFJSmTLRttRutb4gfJ6NS4BfsM6/operations",rel:"noopener",underline:"none",target:"_blank"},r.a.createElement(xe.a,{label:"Box KT1QNURPMuFJSmTLRttRutb4gfJ6NS4BfsM6"+(u.status?" is active":" is closed"),color:u.status?"secondary":"default",clickable:!0,onDelete:function(){},deleteIcon:u.status?r.a.createElement(ke.a,null):r.a.createElement(Ce.a,null),variant:"outlined"}))),0===u.ideas.length?r.a.createElement(W.a,{item:!0,xs:12},r.a.createElement(je.a,{color:"secondary",style:{marginTop:60}})):r.a.createElement(W.a,{item:!0},r.a.createElement(ve,{onClick:function(e){var t,a;I(e),d({status:u.status,ideas:(t=u.ideas,a=e,t.sort((function(e,t){return"sort by votes"===a?t.nbvotes-e.nbvotes:"sort by creation"===a?t.creation-e.creation:"sort by author"===a?t.author-e.author:"sort by id"!==a||e.id-t.id}))),votes:u.votes})}})),u.ideas.map((function(t){return r.a.createElement(W.a,{item:!0,xs:12},r.a.createElement(Y,{id:t.id,title:t.title,desc:t.desc,author:t.author,creation:t.creation,nbvotes:t.nbvotes,winner:t.winner,boxopen:u.status&&e&&M(),openSnack:K,handleReceipt:G}))})))),u.status&&e&&M()&&!y?r.a.createElement(Z,{onClick:function(){x(!0)}}):r.a.createElement("div",null),r.a.createElement(F,{appName:"IdeaCorp."}),r.a.createElement(se,{open:v,onclose:function(){x(!1)},theme:J,account:a,openSnack:K,handleReceipt:G}),r.a.createElement(A,{open:y,theme:J})))}var Pe=function(){return r.a.createElement(v,{appName:"IdeaCorp."},r.a.createElement(r.a.Suspense,{fallback:null},r.a.createElement(Ie,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Pe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},73:function(e,t,a){}},[[163,1,2]]]);
//# sourceMappingURL=main.a75ce85e.chunk.js.map